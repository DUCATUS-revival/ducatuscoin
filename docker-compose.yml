version: '2'

services:
        ducatuscoin-seed:
                build: ./
                command: bash -c 'ducatuscoind -server -listen -rpcallowip="0.0.0.0" -rpcbind="0.0.0.0" -rpcuser=user -rpcpassword=pass; while true ; do ducatuscoin-cli -rpcwait generate 1; done'

        ducatuscoin:
                build: ./
                links:
                        - ducatuscoin-seed
                command: bash -c 'ducatuscoind -server -listen -addnode=ducatuscoin-seed -rpcallowip="0.0.0.0" -rpcbind="0.0.0.0" -rpcuser=user -rpcpassword=pass; while true ; do ducatuscoin-cli -rpcwait generate 1; done'

volumes:
          bitcoin-seed:
          bitcoin:
#        ducatuscoin-tumbler:
#                build: ./
#                volumes:
#                        - ./ducatuscoin-tumbler:/home/ducatus/ducatuscoin-tumbler
#                links:
#                        - ducatuscoinseed
#                command: ducatuscoind --addnode ducatuscoinseed
#             server=1
#             daemon=1
#             listen=1
#             rpcuser=USER
#             rpcpassword=SOMEWILDDIGITS
#             rpcallowip=127.0.0.1
#             rpcallowip=192.168.2.2
#             rpcport=8332
